/* =========================
   Unity ERP – Grid + Header Styles (Full SCSS)
   ========================= */

/* ===== Brand ===== */
$brand: #2E5F73;

/* 1) Prevent layout shift when body scrollbar appears */
:root {
  /* modern way: keeps space for scrollbar always */
  scrollbar-gutter: stable both-edges;
}
/* fallback for older browsers */
html { overflow-y: scroll; }

/* 2) Horizontal-only scroll on grid */
.scroll-x-only {
  overflow-x: auto;
  overflow-y: hidden;     /* no vertical scrollbar on grid */
  max-width: 100%;
  padding-bottom: 8px;    /* room for the h-scrollbar */
  -webkit-overflow-scrolling: touch;
}

/* 3) Grid shell */
.sa-grid {
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: .75rem;
  overflow: visible !important;

  .sa-table {
    width: max-content;   /* can overflow horizontally */
    min-width: 100%;
    border-collapse: separate;
    border-spacing: 0 4px; /* row gaps */
  }

  /* default header look (will be overridden by .sa-head-brand) */
  thead th {
    font-weight: 600;
    letter-spacing: .2px;
    color: #6b7280;
    background: #f8fafc;
    padding: .5rem .75rem;
    border-bottom: 1px solid #e5e7eb;
    white-space: nowrap;
  }

  tbody tr { background: #fff; transition: background .15s ease; }
  tbody tr:hover { background: #f1f5f9; }

  td { padding: .4rem .75rem; vertical-align: middle; }
}

/* keep rows compact (forces horizontal scroll for overflow) */
.no-wrap-cols th,
.no-wrap-cols td { white-space: nowrap; }

/* ====== OPT-IN BRAND HEADER (like your screenshot) ======
   Add class "sa-head-brand" on the table to enable
   <table class="sa-table ... sa-head-brand"> */
.sa-grid {
  .sa-table.sa-head-brand thead tr {
    position: sticky;   /* keeps header visible on scroll */
    top: 0;
    z-index: 3;
  }

  .sa-table.sa-head-brand thead th {
    background: $brand !important;
    color: #fff !important;
    text-transform: uppercase;
    font-weight: 700;
    letter-spacing: .6px;
    font-size: 13px;
    line-height: 1.1;
    padding: .65rem .9rem;
    border-bottom: 0; /* remove default bottom border */

    /* slim vertical dividers */
    border-right: 1px solid rgba(255,255,255,.28);
  }

  .sa-table.sa-head-brand thead th:last-child {
    border-right-color: transparent;
  }

  /* rounded top corners to match card */
  .sa-table.sa-head-brand thead th:first-child {
    border-top-left-radius: .6rem;
  }
  .sa-table.sa-head-brand thead th:last-child {
    border-top-right-radius: .6rem;
  }

  /* subtle bottom accent so header feels “seated” */
  .sa-table.sa-head-brand thead {
    box-shadow: inset 0 -1px 0 rgba(0,0,0,.08);
  }
}

/* Pills */
.sa-pill {
  display: inline-block;
  background: #f1f5f9;
  border-radius: .4rem;
  padding: .25rem .5rem;
  font-size: 13px;
  color: #374151;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.sa-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

/* Inputs */
.sa-qty { 
    width: 88px;                     /* pick your size */
  max-width: 88px;
  
}

.form-control.form-control-sm {
  min-height: 32px;
  font-size: 13px;
  border-radius: .5rem;
}

.form-control:focus,
.ngs.ngs-sm ::ng-deep .ng-select-container.ng-select-focused {
  border-color: $brand !important;
  box-shadow: 0 0 0 0.15rem rgba(46,95,115,.2);
}

/* ===== ng-select sizing (base) ===== */
.ngs.ngs-sm ::ng-deep .ng-select-container {
  min-height: 32px !important;
  border-radius: .5rem !important;
  border-color: #d1d5db !important;
  font-size: 13px !important;
}

/* --- Make the Reason dropdown COMPACT (override .w-100) --- */
.sa-grid .sa-table .sa-ngs {
  /* compact width; beats Bootstrap .w-100 */
  width: clamp(180px, 22vw, 240px) !important;
  display: inline-block;
}

/* Remarks input height alignment */
.sa-grid .sa-table input.form-control.form-control-sm {
  height: 32px;
  line-height: 1.25;
}

/* ===== Dropdown panel: internal scroll only, never grows page ===== */
.sa-ngs-panel.ng-dropdown-panel {
  z-index: 20000 !important;
  border-radius: .5rem;
  box-shadow: 0 8px 24px rgba(0,0,0,.12);

  /* cap the panel to viewport so body won't need a scrollbar */
  max-height: calc(100vh - 120px);
  overflow: hidden; /* overflow handled by items list */

  /* keep panel a nice popover width (not as wide as cell) */
  width: auto;
  min-width: 180px;
  max-width: min(280px, 90vw);
}

/* scroll only inside the items list */
.sa-ngs-panel .ng-dropdown-panel-items {
  max-height: min(320px, calc(100vh - 160px));
  overflow-y: auto;
}

/* Keep long option text wrapping nicely inside panel */
.sa-ngs-panel .ng-dropdown-panel-items .ng-option {
  white-space: normal;
  line-height: 1.35;
  padding-top: .4rem;
  padding-bottom: .4rem;
}

/* Optional: button sizing */
.sa-controls-row .sa-btn { min-width: 140px; }

.modal-header {
  border-bottom: 1px solid #e5e7eb;
}

.modal-footer {
  border-top: 1px solid #e5e7eb;
}

.ngs .ng-select-container {
  border-radius: .5rem !important;
}

